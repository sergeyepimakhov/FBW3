<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Cross Origin Problem</title>
</head>

<body>

        <canvas id="myCanvas" width="240" height="297" style="border:1px solid #d3d3d3;">
                Your browser does not support the HTML5 canvas tag.
        </canvas>

    <img src="http://127.0.0.1:3000/hamburg.png" crossorigin="anonymous">

    <script>

        // https://developer.mozilla.org/ru/docs/Web/API/Fetch_API/Using_Fetch

        var fetchAPI = async function () {
            const response = await fetch('http://127.0.0.1:3000/') //, { credentials: 'same-origin' })
            const myJson = await response.json();
            console.log(JSON.stringify(myJson));
        }

        //fetchAPI();

        function httpGetAsync() {
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    // document.getElementById("demo").innerHTML = this.responseText;
                    console.log(this.responseText);
                }
            };
            xhttp.open("GET", 'http://127.0.0.1:3000/', true);
            xhttp.send();
        }

        //httpGetAsync();

        //const img = new Image();
        //img.src = "http://localhost:3000/hamburg.png"

        //const img = new Image();

        //window.onload = function() {
        //    var c = document.getElementById("myCanvas");
        //    var ctx = c.getContext("2d");
            
            //https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image
        //    ctx.drawImage(img, 10, 10); //insecure
        //    console.log(c.toDataURL());
        //}
        //img.crossOrigin = ''; //anonymous
        //img.src = "http://localhost:3000/hamburg.png"
        

    </script>

</body>

</html>